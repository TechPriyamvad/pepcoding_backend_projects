<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <style>
      hr {
        border: 5px solid black;
      }
      .login {
        width: 70%;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .login > button {
        cursor: pointer;
      }
    </style>
    <h1>Signup functionality</h1>
    <form class="signup">
      <label>Email</label>
      <input type="email" />
      <label>Name</label>
      <input type="text" />
      <label>password</label>
      <input type="password" />
      <button>Signup</button>
    </form>
    <br />
    <hr />

    <h1>Login Functionality</h1>
    <form action="" class="login">
      <div>
        <label for="email">Email</label>
        <input type="email" placeholder="type email" class="login-email" />
      </div>
      <div>
        <label for="password">Password</label>
        <input
          type="password"
          placeholder="type password"
          class="login-password"
        />
      </div>
      <button class="login-button">Login</button>
    </form>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.4/axios.min.js"
      crossorigin="anonymous"
    ></script>
    <script>
      let btn = document.querySelector("button");
      btn.addEventListener("click", async function (e) {
        // prevent page reload
        e.preventDefault();
        // email
        let email = document.querySelector("input[type='email']").value;
        // password
        let password = document.querySelector("input[type='password']").value;
        //name
        let name = document.querySelector("input[type='text']").value;
        let resp = await axios.post("/api/auth/signup", {
          email,
          password,
          name,
        });
        // console.log(resp.data);
      });

      let loginBtn = document.querySelector(".login-button");
      loginBtn.addEventListener("click", loginUser);

      async function loginUser(e) {
        e.preventDefault();
        // email
        let email = document.querySelector(".login-email").value;
        // password
        let password = document.querySelector(".login-password").value;

        let resp = await axios.post("/api/auth/login", {
          email,
          password,
        });
      }
    </script>
  </body>
</html>
